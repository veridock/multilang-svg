<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300">
  <script type="text/javascript" src="fibonacci.js"></script>
  <script><![CDATA[
    // Initialize WASM-like module
    let fibonacciModule;
    
    async function initWasm() {
        try {
            fibonacciModule = await import('./fibonacci.js');
            update();
        } catch (error) {
            console.error('Failed to initialize module:', error);
            showError('Failed to initialize module');
        }
    }

    // Update result using WASM-like module
    function update() {
        try {
            if (!fibonacciModule) {
                showError('Module not initialized');
                return;
            }
            
            const result = fibonacciModule.fibonacci(10);
            
            // Create or update result text
            let text_elem = document.getElementById('result');
            if (!text_elem) {
                text_elem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text_elem.id = 'result';
                text_elem.setAttribute('x', '50');
                text_elem.setAttribute('y', '50');
                document.getElementsByTagName('svg')[0].appendChild(text_elem);
            }
            text_elem.textContent = result;
        } catch (error) {
            showError('Error calculating Fibonacci: ' + error.message);
        }
    }

    // Show error message
    function showError(message) {
        const errorText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        errorText.textContent = message;
        errorText.setAttribute('x', '20');
        errorText.setAttribute('y', '70');
        document.getElementsByTagName('svg')[0].appendChild(errorText);
    }

    // Initialize when loaded
    window.addEventListener('load', initWasm);
  ]]></script>
</svg>