<!DOCTYPE html>
<html>
<head>
    <title>SVG Wrapper</title>
    <style>
        .svg-container {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            margin: 10px;
            position: relative;
        }
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <h1>SVG Examples</h1>
    
    <div class="svg-container">
        <h2>Python Example</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
            <script><![CDATA[
                // Simple data analysis
                function calculateMean() {
                    const data = Array.from({length: 100}, () => Math.random() * 100);
                    const mean_val = data.reduce((a, b) => a + b, 0) / data.length;
                    return mean_val;
                }

                // Update result
                function updateResult() {
                    try {
                        const mean_val = calculateMean();
                        const svg = document.getElementsByTagName('svg')[0];
                        
                        // Create or update result text
                        let text_elem = svg.getElementById("result");
                        if (!text_elem) {
                            text_elem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                            text_elem.id = 'result';
                            text_elem.setAttribute('x', '50');
                            text_elem.setAttribute('y', '50');
                            svg.appendChild(text_elem);
                        }
                        text_elem.textContent = `Åšrednia: ${mean_val.toFixed(2)}`;

                        // Create button if it doesn't exist
                        let button = svg.getElementById("regenerateButton");
                        if (!button) {
                            button = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                            button.id = 'regenerateButton';
                            button.setAttribute('x', '20');
                            button.setAttribute('y', '90');
                            button.setAttribute('width', '100');
                            button.setAttribute('height', '30');
                            button.setAttribute('fill', '#4CAF50');
                            button.setAttribute('rx', '5');
                            svg.appendChild(button);

                            const buttonText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                            buttonText.textContent = 'Regenerate';
                            buttonText.setAttribute('x', '50');
                            buttonText.setAttribute('y', '110');
                            buttonText.setAttribute('fill', 'white');
                            buttonText.setAttribute('id', 'buttonText');
                            svg.appendChild(buttonText);

                            button.onclick = updateResult;
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        const errorText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        errorText.textContent = 'Error: ' + error.message;
                        errorText.setAttribute('x', '20');
                        errorText.setAttribute('y', '70');
                        document.getElementsByTagName('svg')[0].appendChild(errorText);
                    }
                }

                // Initialize when loaded
                window.addEventListener('load', updateResult);
            ]]></script>
        </svg>
    </div>

    <div class="svg-container">
        <h2>Fibonacci Example</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
            <script><![CDATA[
                // Simple Fibonacci implementation
                function fibonacci(n) {
                    if (n <= 1) return n;
                    return fibonacci(n - 1) + fibonacci(n - 2);
                }

                // Update result display
                function updateResult() {
                    try {
                        const svg = document.getElementsByTagName('svg')[0];
                        const result = fibonacci(10);
                        
                        // Create or update result text
                        let text_elem = svg.getElementById("result");
                        if (!text_elem) {
                            text_elem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                            text_elem.id = 'result';
                            text_elem.setAttribute('x', '50');
                            text_elem.setAttribute('y', '50');
                            svg.appendChild(text_elem);
                        }
                        text_elem.textContent = result;
                    } catch (error) {
                        console.error('Error:', error);
                        const errorText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        errorText.textContent = 'Error: ' + error.message;
                        errorText.setAttribute('x', '20');
                        errorText.setAttribute('y', '70');
                        document.getElementsByTagName('svg')[0].appendChild(errorText);
                    }
                }

                // Initialize when loaded
                window.addEventListener('load', updateResult);
            ]]></script>
        </svg>
    </div>
</body>
</html>
